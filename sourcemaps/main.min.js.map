{"version":3,"sources":["01_main.js"],"names":["smoothScroll","document","querySelectorAll","forEach","anchor","addEventListener","e","preventDefault","querySelector","this","getAttribute","scrollIntoView","behavior","Marquee","selector","speed","parentSelector","clone","innerHTML","firstElement","children","i","insertAdjacentHTML","setInterval","style","marginLeft","clientWidth","window","smSize","mdSize","Slider","position","slidesToShow","index","slidesToScroll","innerWidth","container","track","btnPrev","btnNext","navigation","items","itemsCount","length","itemWidth","Math","floor","movePosition","commonItems","textContent","item","minWidth","setPosition","transform","checkBtns","disabled","checkIndex","moveForward","itemsLeft","abs","moveBack","loop","autoPlay","timeoutId","clearTimeout","location","reload","btnPrevStages","btnNextStages","wrapContainer","stagesItem","dots","pos","currentIndex","dot","createElement","classList","add","append","height","clientHeight","next","remove","offsetWidth","prev","images","options","root","rootMargin","threshold","handleImg","myImg","observer","myImgSingle","intersectionRatio","loadImage","target","image","src","IntersectionObserver","img","observe"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["const smoothScroll = () => {\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', function (e) {\n        e.preventDefault();\n        document.querySelector(this.getAttribute('href')).scrollIntoView({\n            behavior: 'smooth'\n        });\n    });\n  });\n};\n\n\nconst Marquee = ( selector, speed ) => {\n  const parentSelector = document.querySelector(selector);\n  const clone = parentSelector.innerHTML;\n  const firstElement = parentSelector.children[0];\n  let i = 0;\n  \n  parentSelector.insertAdjacentHTML('beforeend', clone);\n  parentSelector.insertAdjacentHTML('beforeend', clone);\n\n  setInterval( () => {\n    firstElement.style.marginLeft = `-${i}px`;\n    if ( i > firstElement.clientWidth ) {\n      i = 0;\n    }\n    i = i + speed;\n  }, 0 );\n}\n\nwindow.addEventListener('load', ()=>{\n  Marquee('.running-line__track.-s', .3 );\n  Marquee( '.running-line__track.-f', .3 );\n  smoothScroll();\n});\n\nconst smSize = 768;\nconst mdSize = 1024;\n\n\nlet Slider = {\n  position: 0,\n  slidesToShow: 3,\n  index: function (){\n    return this.slidesToShow;\n  },\n  slidesToScroll: 1,\n}\n\n//alert(Slider.index());\nlet position = 0;\nlet slidesToShow = 3;\n\nif(window.innerWidth <= mdSize && window.innerWidth > smSize) {\n   slidesToShow = 2;\n}else if (window.innerWidth <= smSize) {\n  slidesToShow = 1;\n}\n\nlet index = slidesToShow;\nconst slidesToScroll = 1;\nconst container = document.querySelector('.participants__container');\nconst track = document.querySelector('.participants__track');\nconst btnPrev = document.querySelector('#participants-left');\nconst btnNext = document.querySelector('#participants-right');\nconst navigation = document.querySelector('.participants__navigation');\nconst items = document.querySelectorAll('.participants__item');\nconst itemsCount = items.length;\nconst itemWidth = Math.floor(container.clientWidth / slidesToShow);\nconst movePosition = slidesToScroll * itemWidth;\nconst commonItems = document.querySelector('.slider__info');\ncommonItems.textContent = `${slidesToShow} / ${items.length}`;\n\nitems.forEach((item)=>{\n  item.style.minWidth = `${itemWidth}px`;\n});\n\nconst setPosition = () => {\n  track.style.transform = `translateX(${position}px)`;\n}\n\nconst checkBtns = () => {\n  btnPrev.disabled = position === 0;\n  btnNext.disabled = position === Math.floor(-(itemsCount - slidesToShow) * itemWidth);\n};\n\nconst checkIndex = () => {\n  commonItems.textContent = `${index} / ${items.length}`;\n};\n\nconst moveForward = () => {\n  const itemsLeft = itemsCount - (Math.abs(position) + slidesToShow * itemWidth) / itemWidth;\n  position -= itemsLeft >= slidesToScroll ? movePosition : itemsLeft * itemWidth;\n  index++;\n  setPosition();\n  checkIndex();\n  checkBtns();\n}\n\nconst moveBack = () => {\n  const itemsLeft = Math.abs(position) / itemWidth;\n  position += itemsLeft >= slidesToScroll ? movePosition : itemsLeft * itemWidth;\n  index--;\n  setPosition();\n  checkIndex();\n  checkBtns();\n};\n\nconst loop = () => {\n  if(position <= Math.floor(-(itemsCount - slidesToShow) * itemWidth)){\n    index = slidesToShow-1;\n    position = itemWidth;\n  }\n};\n\nconst autoPlay = () => {\n    timeoutId = setInterval(() => {\n      loop();\n      moveForward();\n    }, 4000);\n}\n\ncheckBtns();\ncheckIndex();\nautoPlay();\nsetPosition();\n\nbtnNext.addEventListener('click',moveForward);\nbtnPrev.addEventListener('click', moveBack);\nnavigation.addEventListener(\"mouseenter\", () => clearTimeout(timeoutId));\nnavigation.addEventListener(\"mouseleave\", autoPlay);\ncontainer.addEventListener(\"mouseenter\", () => clearTimeout(timeoutId));\ncontainer.addEventListener(\"mouseleave\", autoPlay);\nwindow.addEventListener('resize', () => {\n  location.reload();\n})\n\nconst btnPrevStages = document.querySelector('#stages-left');\nconst btnNextStages = document.querySelector('#stages-right');\nconst wrapContainer = document.querySelector('.stages__wrap');\nconst stagesItem = document.querySelectorAll('.stages__item');\nconst dots = document.querySelector('.slider__dots');\nlet pos = 0;\nlet currentIndex = 0;\n\nfor(let i = 0; i < stagesItem.length; i++){\n  const dot = document.createElement('div');\n  dot.classList.add('slider__dots-item');\n  dots.append(dot);\n}\nif (window.innerWidth <= smSize) {\n  wrapContainer.style.height = `${stagesItem[currentIndex].clientHeight}px`;\n}\ndots.children[currentIndex].classList.add('active');\n\nconst next = () => {\n  currentIndex++;\n  btnPrevStages.disabled = false;\n  dots.children[currentIndex-1].classList.remove('active');\n  dots.children[currentIndex].classList.add('active');\n  pos += stagesItem[0].offsetWidth+20;\n  wrapContainer.style.transform = `translateX(-${pos}px)`;\n  wrapContainer.style.height = `${stagesItem[currentIndex].clientHeight}px`;\n  currentIndex == stagesItem.length-1 ? btnNextStages.disabled = true : false;\n}\n\nconst prev = () => {\n  currentIndex--;\n  btnNextStages.disabled = false;\n  dots.children[currentIndex+1].classList.remove('active');\n  dots.children[currentIndex].classList.add('active');\n  pos -= stagesItem[0].offsetWidth+20;\n  wrapContainer.style.transform = `translateX(-${pos}px)`;\n  wrapContainer.style.height = `${stagesItem[currentIndex].clientHeight}px`;\n  currentIndex == 0 ? btnPrevStages.disabled = true : false;\n}\n\nbtnNextStages.addEventListener('click',next);\nbtnPrevStages.addEventListener('click',prev);\n\n\nconst images = document.querySelectorAll('img');\n\nconst options = {\n  root: null,\n  rootMargin: '0px',\n  threshold: 0.1\n}\n\nfunction handleImg(myImg, observer){\n  myImg.forEach(myImgSingle => {\n    if(myImgSingle.intersectionRatio > 0){\n      loadImage(myImgSingle.target);\n    }\n  })\n}\n\nfunction loadImage(image){\n  image.src = image.getAttribute('data');\n}\n\nconst observer = new IntersectionObserver(handleImg, options);\n\nimages.forEach(img =>{\n  observer.observe(img);\n})"]}